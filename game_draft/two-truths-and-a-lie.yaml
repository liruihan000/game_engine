declaration:
  description: A conversational party game where each turn one player shares three
    statements about themselves (two true, one false). Others discuss naturally and
    vote on which is the lie. Points are awarded for correct guesses and for successfully
    deceiving other players. The game rotates speakers so each player takes a turn
    per round; play for the agreed number of rounds (default 1).
  is_multiplayer: true
  min_players: 3
  player_states:
    name:
      type: string
      example: Player A
      description: Player's display name for announcements, turn prompts, and scoring.
    turn_order:
      type: num
      example: 1
      description: Seat/index used for rotating the speaker in order.
    score:
      type: num
      example: 3
      description: Total points from correct lie identifications and deception (players
        fooled when speaker).
    is_speaker:
      type: boolean
      example: false
      description: Whether the player is the current speaker. Controls visibility
        of speaker-only UI and actions.
    speaker_rounds_completed:
      type: num
      example: 1
      description: How many times this player has been the speaker. Used to determine
        round completion and game end.
    statements:
      type: list
      example:
      - I once met a celebrity.
      - I can speak four languages.
      - I've never broken a bone.
      description: The speaker's three statements. Public to all once published for
        the round.
    lie_index:
      type: num
      example: 2
      description: Which statement is the lie (1-3). Private to the speaker until
        the reveal.
    statements_published:
      type: boolean
      example: true
      description: Whether the round's three statements are visible to non-speakers
        for discussion and voting.
    lie_revealed:
      type: boolean
      example: false
      description: Whether the lie has been publicly revealed for the current speaker.
    can_vote:
      type: boolean
      example: true
      description: Whether this player may cast a vote this round (typically all non-speakers).
        Controls voting UI visibility.
    vote_choice:
      type: num
      example: 2
      description: The statement number (1-3) this player believes is the lie. Extracted
        from natural conversation.
    vote_revealed:
      type: boolean
      example: false
      description: Whether this player's vote is publicly visible (supports secret
        or open voting styles).
  player_states_template:
    player_states:
      1:
        name: ''
        turn_order: 1
        score: 0
        is_speaker: false
        speaker_rounds_completed: 0
        statements: []
        lie_index: 0
        statements_published: false
        lie_revealed: false
        can_vote: true
        vote_choice: 0
        vote_revealed: false
  players_example:
    player_states:
      1:
        name: Alex
        turn_order: 1
        score: 0
        is_speaker: true
        speaker_rounds_completed: 0
        statements:
        - I once met a celebrity.
        - I can speak four languages.
        - I've never broken a bone.
        lie_index: 2
        statements_published: true
        lie_revealed: false
        can_vote: false
        vote_choice: 0
        vote_revealed: false
      2:
        name: Bailey
        turn_order: 2
        score: 0
        is_speaker: false
        speaker_rounds_completed: 0
        statements: []
        lie_index: 0
        statements_published: false
        lie_revealed: false
        can_vote: true
        vote_choice: 2
        vote_revealed: false
      3:
        name: Casey
        turn_order: 3
        score: 0
        is_speaker: false
        speaker_rounds_completed: 0
        statements: []
        lie_index: 0
        statements_published: false
        lie_revealed: false
        can_vote: true
        vote_choice: 3
        vote_revealed: false
phases:
  0:
    name: Game Introduction
    description: Introduce rules, flow, scoring, and interface to all players; set
      expectations for rotating speakers and voting.
    actions:
    - description: Clear previous UI to start fresh (public)
      tools:
      - clearCanvas
    - description: Create public phase indicator for the introduction
      tools:
      - createPhaseIndicator
    - description: Display game rules, turn rotation, and scoring overview to all
        players (public)
      tools:
      - createTextDisplay
    - description: Display public initial score overview (names and scores)
      tools:
      - createTextDisplay
    completion_criteria:
      type: UI_displayed
      description: Game introduction and initial score overview have been displayed
        to all players.
    next_phase:
      id: 1
      name: Set Current Speaker
  1:
    name: Set Current Speaker
    description: Identify and set the current speaker based on turn_order and completed
      speaker rounds; prepare players for statement entry.
    actions:
    - description: Clear canvas for round setup (public)
      tools:
      - clearCanvas
    - description: Create public phase indicator for round setup and speaker selection
      tools:
      - createPhaseIndicator
    - description: Show public announcement naming the current speaker and instruct
        others to wait
      tools:
      - createTextDisplay
    - description: Create public turn indicator highlighting the current speaker
      tools:
      - createTextDisplay
    completion_criteria:
      type: UI_displayed
      description: Current speaker is set and publicly indicated.
    next_phase:
      id: 2
      name: Statement Collection
  2:
    name: Statement Collection
    description: Speaker privately composes three statements for the round while others
      wait.
    actions:
    - description: Create public phase indicator for statement collection
      tools:
      - createPhaseIndicator
    - description: Show group waiting message to non-speakers while speaker writes
        statements
      tools:
      - createTextDisplay
    - description: Show private instructions to speaker and create a private voting
        panel to confirm "Statements Ready" when prepared
      tools:
      - createTextInputPanel
    completion_criteria:
      type: player_action
      description: Speaker has submit their three statements.
      wait_for: single_player_choice
      target_players:
        description: Current speaker player
        condition: player.is_speaker == true
    next_phase:
      id: 3
      name: Select the Lie
  3:
    name: Select the Lie
    description: Speaker privately selects which of the three statements is the lie
      (1–3).
    actions:
    - description: Create public phase indicator for private lie selection
      tools:
      - createPhaseIndicator
    - description: Show private instructions to the speaker about selecting the lie
        (1–3)
      tools:
      - createTextDisplay
    - description: Create private voting panel for the speaker to choose the lie index
        (options 1, 2, 3)
      tools:
      - createVotingPanel
    - description: Show public waiting message to non-speakers
      tools:
      - createTextDisplay
    completion_criteria:
      type: player_action
      description: Speaker has selected the lie index via voting panel, and relevant
        player state (player_states) has been updated.
      wait_for: single_player_choice
      target_players:
        description: Current speaker player
        condition: player.is_speaker == true
    next_phase:
      id: 4
      name: Publish Statements
  4:
    name: Publish Statements
    description: Publish the three statements to all players for viewing; mark statements
      as visible and enable voting for non-speakers.
    actions:
    - description: Clear canvas and present statements to the group
      tools:
      - clearCanvas
    - description: Create public phase indicator for published statements
      tools:
      - createPhaseIndicator
    - description: Create public text display showing the three statements for this
        round
      tools:
      - createTextDisplay
    - description: Create public turn indicator highlighting the current speaker
      tools:
      - createTextDisplay
    completion_criteria:
      type: UI_displayed
      description: Statements are publicly displayed and non-speakers are prepared
        for discussion.
    next_phase:
      id: 5
      name: Discussion Phase
  5:
    name: Discussion Phase
    description: Players discuss which statement is the lie within a set time window.
    actions:
    - description: Create public phase indicator and discussion context
      tools:
      - createPhaseIndicator
    - description: Create public discussion timer
      tools:
      - createTimer
    - description: Display public discussion guidance/prompts
      tools:
      - createTextDisplay
    - description: Show private reminder to the speaker not to reveal the lie early
      tools:
      - createTextDisplay
    completion_criteria:
      type: timer
      description: Discussion timer has expired.
    next_phase:
      id: 6
      name: Voting Phase
  6:
    name: Voting Phase
    description: Non-speakers vote on which statement is the lie.
    actions:
    - description: Create public phase indicator for voting
      tools:
      - createPhaseIndicator
    - description: Create targeted voting panel for eligible voters (non-speakers
        with voting rights)
      tools:
      - createVotingPanel
    - description: Show private notice to the speaker that they do not vote
      tools:
      - createTextDisplay
    - description: Create public reminder that votes will be revealed after all are
        submitted
      tools:
      - createTextDisplay
    completion_criteria:
      type: player_action
      description: Votes have been received from all eligible voters, and relevant
        player state (player_states) has been updated.
      wait_for: all_players_action
      target_players:
        description: All eligible non-speaker voters
        condition: player.can_vote == true and player.is_speaker == false
    next_phase:
      id: 7
      name: Reveal Lie and Tally Votes
  7:
    name: Reveal Lie and Tally Votes
    description: Reveal the true lie, display vote distribution, and summarize outcomes.
    actions:
    - description: Clear canvas for reveal
      tools:
      - clearCanvas
    - description: Create public phase indicator for reveal
      tools:
      - createPhaseIndicator
    - description: Create public text display highlighting which statement is the
        lie and summarizing vote distribution
      tools:
      - createTextDisplay
    - description: Create public results display summarizing who guessed correctly
        and deception success
      tools:
      - createResultDisplay
    completion_criteria:
      type: UI_displayed
      description: Lie has been revealed and results have been summarized publicly.
    next_phase:
      id: 8
      name: Score Update and Leaderboard
  8:
    name: Score Update and Leaderboard
    description: Update scores for correct guesses and deception; refresh leaderboard.
    actions:
    - description: Create public phase indicator for scoring
      tools:
      - createPhaseIndicator
    - description: Display public updated scores and points awarded this round
      tools:
      - createTextDisplay
    - description: Show public leaderboard summary (current leader(s) and ties)
      tools:
      - createTextDisplay
    completion_criteria:
      type: UI_displayed
      description: Scores have been updated and the leaderboard is refreshed.
    next_phase:
      id: 9
      name: Check Round Completion
  9:
    name: Check Round Completion
    description: Evaluate whether all players have completed their required speaker
      turns for the agreed number of rounds.
    actions:
    - description: Display public status of speaker rounds completed per player
      tools:
      - createTextDisplay
    - description: Show public instruction about next steps (either continue or end
        game)
      tools:
      - createTextDisplay
    completion_criteria:
      type: UI_displayed
      description: Round completion status has been evaluated and displayed.
    next_phase:
      If every player has speaker_rounds_completed equal to the agreed rounds:
        id: 99
        name: Final Results
      If more speakers remain for this or future rounds:
        id: 10
        name: Next Speaker Setup
  10:
    name: Next Speaker Setup
    description: Rotate to the next speaker based on turn_order; reset voting permissions
      and prepare for the next turn.
    actions:
    - description: Clear canvas and announce the next speaker
      tools:
      - clearCanvas
    - description: Create public phase indicator for next speaker setup
      tools:
      - createPhaseIndicator
    - description: Create public announcement indicating who will speak next and who
        can vote
      tools:
      - createTextDisplay
    - description: Create public turn indicator highlighting the new current speaker
      tools:
      - createTextDisplay
    completion_criteria:
      type: UI_displayed
      description: Next speaker has been set and players are prepared for the new
        turn.
    next_phase:
      id: 2
      name: Statement Collection
  99:
    name: Final Results
    description: Present final standings and congratulate the winner(s); end the game.
    actions:
    - description: Clear canvas for endgame presentation
      tools:
      - clearCanvas
    - description: Create public phase indicator for final results
      tools:
      - createPhaseIndicator
    - description: Display final standings and cumulative scores (public)
      tools:
      - createTextDisplay
    - description: Show celebratory final result display
      tools:
      - createResultDisplay
    completion_criteria:
      type: UI_displayed
      description: Final results displayed to all players.
    next_phase: null
、