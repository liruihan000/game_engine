0:
  name: "Introduction"
  description: "Welcome players to the game world and set the scene for their adventure."
  actions:
    - description: "Display phase indicator showing 'Introduction' at top-center"
      tools: [phase_indicator]
    - description: "Show welcome narrative text in center with game introduction"
      tools: [text_display]
  completion_criteria:
    type: "timer"
    wait_seconds: 3
  next_phase:
    id: 1
    name: "Role Selection"

1:
  name: "Role Selection"
  description: "Players choose between two character paths: Ronin (warrior) or Witch (magic user)."
  actions:
    - description: "Clear previous phase UI elements"
      tools: [clear_canvas]
    - description: "Display phase indicator showing 'Role Selection' at top-center"
      tools: [phase_indicator]
    - description: "Show instruction text 'Choose Your Path' in center"
      tools: [text_display]
    - description: "Display Ronin character card on the left side"
      tools: [character_card]
    - description: "Display Witch character card on the right side"
      tools: [character_card]
    - description: "Add 'Select Ronin' action button below left card"
      tools: [action_button]
    - description: "Add 'Select Witch' action button below right card"
      tools: [action_button]
  completion_criteria:
    type: "player_action"
    wait_for: "single_player_choice"
    valid_actions: ["select_ronin", "select_witch"]
  logic:
    - condition: "player_action == 'select_ronin'"
      set_state:
        player_choice: "ronin"
      next_phase:
        id: 2
        name: "Game Result"
    - condition: "player_action == 'select_witch'"
      set_state:
        player_choice: "witch"
      next_phase:
        id: 2
        name: "Game Result"

2:
  name: "Game Result"
  description: "Show the outcome based on player's character choice and conclude the game."
  actions:
    - description: "Clear previous phase UI elements"
      tools: [clear_canvas]
    - description: "Display phase indicator showing 'Result' at top-center"
      tools: [phase_indicator]
    - description: "Show result text with title and content based on player_choice (Ronin: Victory message with success type; Witch: Defeat message with error type)"
      tools: [text_display]
    - description: "Display final character card showing chosen role and status (Ronin: alive, wise warrior; Witch: dead, fallen magic user)"
      tools: [character_card]
  completion_criteria:
    type: "UI_Displayed"
    message: "The game results UI have been displayed"
  next_phase:
    id: 3
    name: "Game End"

3:
  name: "Game End"
  description: "Final phase marking the end of the game session."
  actions:
    - description: "Display game end message thanking player"
      tools: [text_display]
  completion_criteria:
    type: "UI_Displayed"
    message: "The game end UI have been displayed"
  next_phase: null
