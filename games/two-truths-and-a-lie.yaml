declaration:
  description: 'A conversational party game of Two Truths and a Lie. Players rotate
    as the speaker, sharing three statements (two true, one false). Others discuss
    naturally and vote on which statement is the lie. Points: +1 for each correct
    guess; speakers earn +1 for each player they fool. The game runs in rounds until
    every player has been speaker for the agreed number of rounds (default 1).'
  is_multiplayer: true
  min_players: 3
  player_states:
    name:
      type: string
      example: Player A
      description: Player's display name; public.
    score:
      type: num
      example: 0
      description: Cumulative points from correct guesses and successful deception;
        public.
    is_speaker:
      type: boolean
      example: false
      description: True if this player is the current speaker; controls statement
        submission UI and disables voting for the speaker.
    statements:
      type: dict
      example:
        '1': I once met a celebrity.
        '2': I can speak four languages.
        '3': I've never broken a bone.
      description: The three statements provided by the speaker (public once submitted).
        Keys are '1', '2', '3'.
    statements_submitted:
      type: boolean
      example: false
      description: Whether the speaker has finalized their three statements; when
        true, statements become public and discussion begins.
    lie_index:
      type: num
      example: 2
      description: Which statement (1-3) is the lie; private to the speaker until
        reveal.
    lie_revealed:
      type: boolean
      example: false
      description: Whether the lie has been publicly revealed for this turn; when
        true, show lie_index to all and resolve scoring.
    can_vote:
      type: boolean
      example: true
      description: Whether this player may cast a vote this turn (non-speakers). Used
        to target voting UI.
    vote_choice:
      type: num
      example: 0
      description: Player's selected statement index (1-3) suspected as the lie; 0
        means no vote yet. Hidden from others until reveal.
    has_voted:
      type: boolean
      example: false
      description: Whether the player has locked their vote; used to detect voting
        completion.
    vote_revealed:
      type: boolean
      example: false
      description: Whether this player's vote is visible to others (typically after
        reveal).
    speaker_turns_completed:
      type: num
      example: 0
      description: How many times this player has served as speaker across rounds;
        used to determine rotation and game end.
  player_states_template:
    player_states:
      1:
        name: ''
        score: 0
        is_speaker: false
        statements:
          '1': ''
          '2': ''
          '3': ''
        statements_submitted: false
        lie_index: 0
        lie_revealed: false
        can_vote: true
        vote_choice: 0
        has_voted: false
        vote_revealed: false
        speaker_turns_completed: 0
  players_example:
    player_states:
      1:
        name: Alex
        score: 0
        is_speaker: true
        statements:
          '1': I ran a marathon last year.
          '2': I hate chocolate.
          '3': I played piano for 10 years.
        statements_submitted: true
        lie_index: 2
        lie_revealed: false
        can_vote: false
        vote_choice: 0
        has_voted: false
        vote_revealed: false
        speaker_turns_completed: 0
      2:
        name: Bailey
        score: 0
        is_speaker: false
        statements:
          '1': ''
          '2': ''
          '3': ''
        statements_submitted: false
        lie_index: 0
        lie_revealed: false
        can_vote: true
        vote_choice: 3
        has_voted: true
        vote_revealed: false
        speaker_turns_completed: 0
      3:
        name: Casey
        score: 0
        is_speaker: false
        statements:
          '1': ''
          '2': ''
          '3': ''
        statements_submitted: false
        lie_index: 0
        lie_revealed: false
        can_vote: true
        vote_choice: 1
        has_voted: true
        vote_revealed: false
        speaker_turns_completed: 0
  audience_groups:
    speaker:
      description: The current speaker who submits statements and knows the lie.
      selection_criteria: player.is_speaker == true
    guessers:
      description: All non-speaker players eligible to vote.
      selection_criteria: player.is_speaker == false and player.can_vote == true
    voters_pending:
      description: Players who can vote but have not yet locked in a vote.
      selection_criteria: player.can_vote == true and player.has_voted == false
    votes_hidden:
      description: Players whose votes remain hidden from others (pre-reveal).
      selection_criteria: player.has_voted == true and player.vote_revealed == false
    votes_revealed:
      description: Players whose votes are currently visible (post-reveal).
      selection_criteria: player.vote_revealed == true
